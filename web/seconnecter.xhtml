<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en" lang="en"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="layouts/template.xhtml">
<ui:define name="titre">
    <h:outputText value="SE CONNECTER" />
</ui:define>
<ui:define name="conten">
    <div align="center" style="color:blue;font-family:cursive" >
        <h1>VEUILLEZ RENSEIGNER VOS IDENTIFIANTS</h1>
    </div>

    <div class="navg">
        <p><a href="accueil.xhtml">Retour Accueil</a></p>
        <p style="color: red"><a href="sinscrire.xhtml">Mot de passe oublié? / S'INSCRIRE?</a></p>
    </div>
    <div align="center" style="height:500px">
        <h:form style="width: 50%; height: 50%">

            <p:growl id="msgs" showDetail="true" />
            <p:panel id="toggleable" header="SE CONNECTER" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px">
                <p:ajax event="close" listener="#{controlUtilLogin.onClose}" update="msgs" />
                <p:ajax event="toggle" listener="#{controlUtilLogin.onToggle}" update="msgs" />

                <h:panelGrid  id="grid" columns="2">
                    <h:outputLabel for="username" value="Pseudo : " />
                    <p:inputText id="username" value="#{serviceUtilisateur.u.pseudo}" required="true" label="pseudo" />
                    <h:outputLabel for="password" value="Mot de passe : " />
                    <p:password id="password" value="#{serviceUtilisateur.u.motdepasse}" required="true" label="password" />
                    <f:facet name="footer">
                        <p:commandButton  value="VALIDER" style="margin-left: 50px; margin-right: 50px; color: lime" actionListener="#{controlUtilLogin.logIn()}" update="connect,messages" icon="ui-icon-check"/>
                        <p:button style="color: mediumblue" value="ACCUEIL" outcome="accueil.xhtml" icon="ui-icon-check"/>
                        <!--<p:commandButton style="color: lime" value="Login" oncomplete="PF('dlg1').hide();" update="connect,messages" icon="ui-icon-check" />-->
                    </f:facet>
                </h:panelGrid>
                <f:facet name="options">
                    <p:menu>
                        <p:submenu label="Action">
                            <p:menuitem value="Réduire" url="#" icon="ui-icon-newwin" onclick="PF('panel').toggle()" />
                            <p:menuitem value="Fermer" url="#" icon="ui-icon-close" onclick="PF('panel').close()" />
                        </p:submenu>
                    </p:menu>
                </f:facet>
            </p:panel>
        </h:form>
    </div>
</ui:define>
</ui:composition>
</html>

<!--
template.xhtml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Reservation Salle</title>
    <h:outputStylesheet library="css" name="style.css" />
</h:head>
<h:body>
    <div class="container">
        <div class="ui-g header">
            <div class="ui-g-6">
                <h1><p:link id="titre" value="Reservation Salle" outcome="accueil" /></h1>
            </div>
            <div class="ui-g-6">
                <ui:insert name="login"/>
            </div>
        </div>
        <div class="ui-g content">
            <div class="ui-g-12 ui-md-3">
                Login utilisateur
<ui:insert name="sidebar" >
<p><h:outputText id="messages" value="#{controlUtilLogin.messages}"/></p>
<h:panelGroup id="connect">
    Bouton connexion / déconnexion
    <p:commandButton process="@this" style="color: lime" value="#{controlUtilLogin.connectlabel}" actionListener="#{controlUtilLogin.show}" update="messages,connect" icon="ui-icon-person" />
    Bouton Créer un compte utilisateur : visible uniquement pour les admin
    <p:button rendered="#{controlUtilLogin.getU().profil eq 'admin'}" value="Création Compte" outcome="NewUtil.xhtml" icon="ui-icon-person"/>
    Bouton mes réservations : visible par les utilisateurs connectés
    <p:button rendered="#{serviceUtilisateur.getCurrentUtilisateur() != null}" value="Mes réservations" outcome="mesReservations.xhtml?faces-redirect=true" icon="fa-list-alt"/>
</h:panelGroup>
Boîte de dialog login
<p:dialog header="Login" widgetVar="dlg1" resizable="false">
    <h:form>
        <h:panelGrid columns="2" cellpadding="5">
            <h:outputLabel for="username" value="Login:" />
            <p:inputText id="username" value="#{controlUtilLogin.u.pseudo}" required="true" label="pseudo" />
            <h:outputLabel for="password" value="Mot de passe:" />
            <p:password id="password" value="#{controlUtilLogin.u.motdepasse}" required="true" label="password" />
            <f:facet name="footer">
                <p:commandButton style="color: lime" value="Login" actionListener="#{controlUtilLogin.logIn()}" oncomplete="PF('dlg1').hide();" update="connect,messages" icon="ui-icon-check" />
            </f:facet>
        </h:panelGrid>
    </h:form>
</p:dialog>
</ui:insert>
        Fin Login utilisateur
        </div>
<div class="ui-g-12 ui-md-9 ui-g-nopad">
<div class="ui-g-12 ui-g-nopad">
    <h2><ui:insert name="titre" /></h2>
    <ui:insert name="content" />
</div>
</div>
        </div>
        </div>
        </h:body>
        </html>
-->